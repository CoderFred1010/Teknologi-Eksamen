Disposition / taleoplÃ¦g

1. Indledning â€“ hvad er CI/CD? (kort)

CI/CD stÃ¥r for Continuous Integration og Continuous Delivery.

CI handler om:

automatisk at bygge og teste kode, hver gang der pushes

CD (Delivery) handler om:

at gÃ¸re artefakter klar til deployment

fx et Docker image

ğŸ‘‰ I mit projekt laver jeg CI + Delivery, men ikke automatisk deployment.

2. Hvad tjekker man typisk i en CI-pipeline?

I mit projekt tjekker CIâ€™en primÃ¦rt:

at koden kan kompileres

at tests kÃ¸rer

at builden er reproducerbar

Konkret:

Maven test

Java-version er korrekt

dependencies kan hentes

ğŸ‘‰ Det er klassisk CI og matcher industripraksis.

3. Overblik over mit GitHub Actions-setup

Jeg har delt mit workflow op i flere filer:

ci.yml â€“ entrypoint

java-test.yml â€“ tester Java-kode

docker-ci.yml â€“ container-test / delivery

Det gÃ¸r workflowet:

mere overskueligt

genbrugeligt

nemt at forklare

4. jobs vs steps

Jobs er de overordnede opgaver â€“ steps er de enkelte trin.

Et job:

kÃ¸rer pÃ¥ Ã©n runner

kan kÃ¸re parallelt med andre jobs

Et step:

fx checkout, setup Java, kÃ¸r Maven

Eksempel:

job: java-test

step: checkout

step: setup JDK

step: mvn test

5. uses vs run

uses:

bruger en fÃ¦rdig action fra GitHub Marketplace

fx actions/checkout

run:

kÃ¸rer shell-kommandoer

fx mvn test eller docker compose up

I mit projekt:

uses til standard-opgaver

run nÃ¥r jeg selv vil styre processen

6. Caching i GitHub Actions

Jeg cacher:

Maven dependencies (~/.m2/repository)

Hvorfor?

Maven downloader ellers alt hver gang

CI bliver meget langsommere

Cache key
key: maven-${{ runner.os }}-${{ hashFiles('**/pom.xml') }}


Hvis pom.xml Ã¦ndrer sig â†’ ny cache

Hvis ikke â†’ cache hit

ğŸ‘‰ Cache ligger hos GitHub under Actions â†’ Caches

7. Hash-pinning (sikkerhed)

Jeg hash-pinner actions:

uses: actions/checkout@<commit-sha>


FormÃ¥l:

sikkerhed i supply chain

undgÃ¥r at en action Ã¦ndrer adfÃ¦rd uden jeg ved det

ğŸ‘‰ Jeg bruger commit SHA, ikke bare @v6.

8. Manuel trigger

Jeg har:

workflow_dispatch:


Det betyder:

workflow kan kÃ¸res manuelt

godt til demo og fejlsÃ¸gning

ğŸ‘‰ Jeg kan vise det live pÃ¥ GitHub.

9. Opsummering (emne 1)

Jeg har en CI-pipeline

Den tester Java-kode

Den bruger caching

Den er opdelt i jobs

Den er sikker (hash-pinning)

Den laver delivery, ikke deployment